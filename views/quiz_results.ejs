<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Results</title>
    <link rel="stylesheet" href="/quizr.css"> <!-- Link to the external CSS -->
</head>
<body>
    <div class="container">
        <h1 class="page-title">Quiz Results</h1>

        <div class="score-section">
            <h2>Your Score: <span class="score"><%= score %></span>/<%= totalQuestions %></h2>
        </div>

        <div class="questions-section">
            <h2>Questions and Answers:</h2>
            <ul class="questions-list">
                <% resultDetails.forEach((result, index) => { %>
                    <li class="question-item">
                        <div class="question-text">
                            <strong>Question <%= index + 1 %>:</strong> <%= result.question_text %>
                        </div>
                        <div class="options">
                            <strong>Options:</strong>
                            <ul>
                                <li>A: <%= result.options.a %></li>
                                <li>B: <%= result.options.b %></li>
                                <li>C: <%= result.options.c %></li>
                                <li>D: <%= result.options.d %></li>
                            </ul>
                        </div>
                        <div class="answer">
                            <strong>Your Answer:</strong> <%= result.userAnswer %>
                            (<span class="<%= result.isCorrect ? 'correct' : 'incorrect' %>">
                                <%= result.isCorrect ? 'Correct' : 'Incorrect' %>
                            </span>)
                        </div>
                        <% if (!result.isCorrect) { %>
                            <div class="correct-answer">
                                <strong>Correct Answer:</strong> <%= result.correctAnswer %>
                            </div>
                        <% } %>
                    </li>
                <% }) %>
            </ul>
        </div>

        <div class="navigation">
            <a href="/student/dashboard" class="btn-primary">Back to Dashboard</a>
        </div>
    </div>
</body>
</html>
